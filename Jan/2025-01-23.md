# 리눅스 보안

## 보안이 매우 중요하다

- 보안과 서비스는 뗄 래야 뗄 수 없는 관계(클라우드도)
- 최근의 많은 보안사고들은 네트워크를 통해 외부에서의 침입한 공격때문
- 시스템: 보안 공격의 대상이 될 수 있는 단위
    - 서버용 운영체제
- 공인 IP로 포트 스캐닝(사용 중인 포트 보기)
    - WAF 설정 없으면 뚫리는 것
- 대기업은 ISMS-P 인증을 적용하는 중
- 취약성 점검 - OS, NetWork, Dev, 개인정보 등의 흐름
- Cognito(클라우드) - 커뮤니티 앱 로그인(개인정보 X)

## 보안성의 요건

- 계정 관리
- 서비스 관리
- 패치 관리
- 로그 관리

## 서버

- 서비스를 제공하는 시스템
- 서버용 운영체제가 설치된 컴퓨터
- 윈도우, 유닉스, 리눅스 계열이 대표적

## Unix와 Linux의 보안 관리 필요성

- 서버 시장 내 점유율이 높다

### root 계정

- 엄격한 관리 - 원격에서 접속하는 것을 방지
    - 서버 접근 제어(SSH, RDP 등)
    - 허용하면 공격자들의 1차 목표가 될 수 있음
- 비밀번호 파일을 shadow 파일로 보호
- 틀린 비밀번호를 계속 입력하면(Brute Force) 계정을 잠금

### 이메일 서비스 관리

- sendmail 서비스의 릴레이 기능을 제한
- SMTP(송신), POP3(수신) 사용 시 주의

### 파일 시스템 관리

- 소유자가 없는 파일이 존재해선 안된다
- 중요 시스템 파일의 권한 설정

### 패치

- 운영체제도 소프트웨어: 새 버그 및 취약점 발견(PM 작업)
- 패치 적용을 통해 보안성, 안정성 확보

### 로그 관리

- 서버 인스턴스 수가 auto-scaling 등으로 가변적일 때, 로그를 한 군데로 모아서 관리하는 것이 좋다
- 유닉스 표준 로그 인터페이스: syslog
- 커널 로그 제외 모든 로그는 /var 에 위치
- 로그 파일 용량의 정기적 점검 필요(스크립트화)

### 계정 관리

- 기본 패스워드와 권한 변경
- DB의 경우 앱, 시스템, 개발자용 계정을 사용(DB 접근제어에서 계정 정보 확인)
    - 보통 개발 DB엔 더미(가짜) 데이터
- 불필요한 계정/권한 제거
- 원격 접속 제한
- Web 3Tier
    - public - in-out이 자유로움, LB(80, 443 리다이렉트)
    - private - NAT(outbound만 인터넷), FE, BE
    - DB(RDS) - 폐쇄망, 웹에서만 접근(SSL, VPN)